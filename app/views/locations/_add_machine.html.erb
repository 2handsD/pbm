<%= form_tag locations_add_machine_path, :class => 'add_new_machine', :method => 'get', :remote => true do %>
  <%= hidden_field_tag :location_id, location_id %>
  <%= label_tag :add_machine_by_name, 'Add By Machine Name' %>
  <%= text_field_tag :add_machine_by_name, params[:add_machine_by_name] %>
  <%= select_tag :add_machine_by_id, options_for_select(['']) + options_from_collection_for_select(Machine.all, 'id', 'name', params[:add_machine_by_id]) %>
  <%= submit_tag 'Add' %>
<% end %>

<script type="text/javascript">
  $(function () {
    $('#add_machine_by_name').autocomplete({source: '<%= autocomplete_machines_path %>'});
  });
</script>
